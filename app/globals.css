@import "tailwindcss";

/* Strict Color Palette */
:root {
  /* Light Mode Colors */
  --bg0-light: #fbf1c7;
  --bg1-light: #f2e5bc;
  --bg2-light: #ebdbb2;
  --bg3-light: #d5c4a1;
  --fg-light: #282828;
  --green-light: #427b58;
  --green-alt-light: #689d6a;
  --light-accent: #f9f5d7;

  /* Semantic Mapping (Light) */
  /* 背景 (一番暗い) -> bg2_light */
  --app-bg: var(--bg2-light);

  /* ヘッダー/カード (中間) -> bg1_light */
  --surface-bg: var(--bg1-light);
  --header-bg: var(--bg1-light);

  /* コピー部分/入力エリア (一番明るい) -> bg0_light */
  --content-bg: var(--bg0-light);

  /* Text */
  --text-primary: var(--fg-light);

  /* Accent */
  --primary: var(--green-light);
  --on-primary: var(--light-accent);
  --outline: var(--bg3-light);
}

.dark {
  /* Dark Mode Colors */
  --bg0-dark: #1d2021;
  --bg1-dark: #282828;
  --bg2-dark: #32302f;
  --bg-soft-dark: #ebdbb2;
  --fg-dark: #f9f5d7;
  --green-dark: #427b58;
  --green-alt-dark: #689d6a;
  --dark-subtle: #d5c4a1;

  /* Semantic Mapping (Dark) */
  /* 背景 (一番暗い) -> bg0_dark */
  --app-bg: var(--bg0-dark);

  /* ヘッダー/カード (中間) -> bg1_dark */
  --surface-bg: var(--bg1-dark);
  --header-bg: var(--bg1-dark);

  /* コピー部分/入力エリア (一番明るい) -> bg2_dark */
  --content-bg: var(--bg2-dark);

  /* Text */
  --text-primary: var(--fg-dark);

  /* Accent */
  --primary: var(--green-dark);
  --on-primary: var(--fg-dark);
  --outline: var(--bg2-dark);
}

body {
  background-color: var(--app-bg);
  color: var(--text-primary);
  font-family: var(--font-noto-sans-jp), var(--font-geist-sans), sans-serif;
  overflow: hidden;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.font-mono {
  font-family: var(--font-fira-code), monospace;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: var(--outline);
  border-radius: 4px;
  opacity: 0.5;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--text-primary);
}

/* ABCJS Styles */
.abcjs-container {
  color: var(--text-primary);
  overflow: hidden; /* Hide overflow to prevent scrollbars on the container itself if we want it fixed */
  width: 100%;
}

.abcjs-title {
  font-family: "Times New Roman", Times, serif;
  font-size: 24px;
  margin-bottom: 10px;
  fill: var(--text-primary);
}

.abcjs-composer,
.abcjs-author {
  font-family: "Times New Roman", Times, serif;
  font-style: italic;
  fill: var(--text-primary);
}

/* Scope SVG styling */
#paper svg {
  width: 100% !important;
  height: auto !important;
  display: block;
  overflow: visible !important;
}

/* Ensure paths and text use the correct color */
#paper svg path,
#paper svg text {
  fill: var(--text-primary);
  stroke: none; /* Text usually has no stroke */
}

/* Staff lines and stems usually are paths or strokes */
#paper svg path[stroke] {
  stroke: var(--text-primary);
}

/* ABCJS Cursor/Highlighting */
.abcjs-cursor {
  stroke: #ff0000 !important;
}
.abcjs-highlight {
  fill: var(--primary) !important;
  opacity: 0.4;
}

/* Material Symbols */
.material-symbols-rounded {
  font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
}
